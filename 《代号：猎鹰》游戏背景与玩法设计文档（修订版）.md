# 《代号：猎鹰》游戏背景与玩法设计文档（修订版）

## 一、游戏背景设定

### 1.1 世界观构建

公元 2642 年，距离 "加尔加岛事件" 已过去十年，人类联盟在月球建立的 "普罗米修斯" 量子实验基地发生灾难性爆炸。实验残骸产生的时空裂隙导致外星生物与地球科技发生恶性融合，形成被称为 "异化带" 的危险区域。曾经守护世界的 Contra 部队因高层叛变几乎覆灭，仅存的战士们组成 "猎鹰小队"，肩负着关闭裂隙、清除异化威胁的使命。

故事采用 "时间循环叙事" 结构 —— 玩家每次任务失败并非终点，而是触发局部时间重置。随着游戏进程，玩家将逐步解锁记忆碎片，揭示量子实验背后的军事阴谋：所谓的外星威胁实则是人类自身滥用科技的产物，而叛变的 Contra 高层正试图利用异化力量建立新秩序。

### 1.2 核心冲突



*   **表层冲突**：猎鹰小队对抗三类异化敌人（生物变异体 / 机械合成体 / 时空扭曲体）

*   **深层冲突**：人类对科技的失控与救赎

*   **叙事钩子**：每次时间循环都会改变部分关卡细节，最终揭露 "异化是可控进化" 的惊天秘密

## 二、核心玩法逻辑

### 2.1 基础玩法循环



```
关卡选择 → 角色/武器配置 → 横版卷轴推进 → 战斗/平台挑战 → 区域BOSS战 → 进度保存/记忆解锁
```

游戏保留魂斗罗经典的快节奏射击与平台跳跃核心，但引入 "战术抉择系统"：每个关卡设置 3-5 个分支路径，选择不同路线将遭遇差异化的敌人组合、环境挑战与奖励类型（武器配件 / 技能点 / 剧情碎片）。

### 2.2 创新机制设计



1.  **角色差异化系统**：

*   突击型：比尔・雷泽（ dash 无敌帧 + 武器超载加速 ）

*   战术型：凯・陈（ 可部署护盾 + 敌人弱点分析 ）

*   机动型：莱奥・佩特罗夫（ 钩爪枪 + 空中悬浮 ）

    每个角色拥有专属被动技能与移动机制，影响关卡探索方式与战术选择。

1.  **武器双轨成长**：

*   基础升级：拾取同名武器提升等级（ Lv1→Lv2→Lv3 ）

*   超载系统：消耗能量释放特殊技能（ 激光枪时间减缓 / 火焰枪防御墙 ）

    武器组合产生协同效果，如 "追踪弹 + 爆炸配件" 形成范围锁定轰炸。

1.  **轻度 Roguelike 元素**：

*   单次 run 内随机道具掉落

*   永久解锁内容：角色技能点 / 武器配件 / 隐藏关卡

*   动态难度调整：根据玩家表现实时微调敌人密度与伤害输出

## 三、关卡设计体系

### 3.1 主题关卡序列

遵循 "地球防线→异化区域→核心裂隙" 的叙事弧线，设计 8 个风格迥异的横版卷轴关卡：



| 关卡编号 | 主题场景  | 核心机制   | 环境威胁          |
| ---- | ----- | ------ | ------------- |
| 1    | 沿海废墟  | 潮汐涨落平台 | 水下移动限制 / 锈蚀陷阱 |
| 2    | 量子工厂  | 传送带谜题  | 激光网格 / 机械碾压   |
| 3    | 异化丛林  | 藤蔓攀爬系统 | 酸性孢子 / 捕食植物   |
| 4    | 空中堡垒  | 悬浮平台链  | 气流干扰 / 坠落深渊   |
| 5    | 冻土研究所 | 冰面滑行物理 | 低温减速 / 雪崩     |
| 6    | 数据枢纽  | 全息投影敌人 | 电磁脉冲 / 数据风暴   |
| 7    | 时空裂隙  | 场景碎片化  | 空间扭曲 / 随机传送   |
| 8    | 核心控制室 | 多阶段转换  | 环境自毁倒计时       |

### 3.2 关卡结构规范

每个关卡由 5-7 个 "屏幕单元" 组成，采用 "3+1+1" 节奏设计：



*   3 个常规战斗屏：敌人压制与地形挑战结合

*   1 个精英遭遇屏：强化版敌人 + 特殊战术要求

*   1 个 BOSS 战屏：多阶段战斗 + 环境互动机制

隐藏区域设计原则：



*   视觉引导：异常色彩 / 可疑破坏痕迹

*   技能门槛：需特定角色能力才能进入

*   奖励匹配：专属武器配件或剧情碎片

### 3.3 动态环境系统

环境状态随时间 / 玩家行为变化：



*   昼夜循环：夜间关卡敌人感知范围扩大，部分生物变异体进入活跃状态

*   连锁反应：破坏能源核心导致区域停电，开启新路径但触发安保机器人

*   天气影响：暴雨降低能见度但增强电击武器效果，沙尘暴导致随机位移

## 四、敌人设计框架

### 4.1 敌对派系体系

三大派系敌人拥有独特视觉风格、行为逻辑与弱点属性：



1.  **生物异化体**（ 有机组织 + 生物能量 ）

*   基础单位：跳虫（ 高速集群冲锋 ）

*   精英单位：孢子散播者（ 死后产生毒雾 ）

*   抗性：火焰伤害降低 30%

*   弱点：电击武器伤害提升 50%

1.  **机械合成体**（ 金属结构 + 量子核心 ）

*   基础单位：哨兵无人机（ 直线激光攻击 ）

*   精英单位：重装机甲（ 可破坏护甲 + 范围炮弹 ）

*   抗性：电击伤害降低 30%

*   弱点：爆炸武器伤害提升 50%

1.  **时空扭曲体**（ 能量形态 + 相位移动 ）

*   基础单位：幻影兵（ 周期性隐身 ）

*   精英单位：裂隙行者（ 召唤时空碎片 ）

*   抗性：物理伤害降低 30%

*   弱点：激光武器伤害提升 50%

### 4.2 BOSS 战设计范式

每个 BOSS 战包含 2-3 个形态转换，融合环境互动与武器克制：



1.  **铁穹守卫（ 关卡 2 ）**

*   阶段 1：远程炮塔轰击 + 机械爪抓取

*   阶段 2：核心暴露 + 召唤无人机群

*   环境互动：可破坏地面使 BOSS 陷入短暂瘫痪

*   最佳武器：超载火箭炮（ 范围伤害摧毁炮塔 ）

1.  **时空领主（ 关卡 7 ）**

*   阶段 1：扭曲空间制造幻象 + 瞬移攻击

*   阶段 2：控制重力场 + 坠落碎片

*   环境互动：利用场景裂隙反弹激光攻击

*   最佳武器：升级激光枪（ 穿透幻象造成真实伤害 ）

BOSS 设计遵循 "明确攻击信号→可规避机制→阶段性弱点" 原则，确保战斗难度公平且富有成就感。

## 五、环境与交互设计

### 5.1 地形互动系统



*   可破坏掩体：木质 / 金属结构有不同耐久值，摧毁后可能掉落道具

*   功能性平台：


    *   升降梯（ 定时运行 / 开关控制两种类型 ）

    *   悬浮板（ 承受重量有限制，超时会坠落 ）

    *   传送带（ 正向 / 反向切换影响移动策略 ）

*   危险区域：


    *   即时死亡：深渊 / 激光柱 / 高压电区

    *   持续伤害：酸液池 / 火焰喷射器 / 辐射区

    *   状态影响：沼泽（ 减速 ）/ 冰面（ 滑行 ）/ 磁场（ 武器干扰 ）

### 5.2 视觉叙事设计

通过环境细节传递剧情信息：



*   量子工厂的实验日志记录异化过程

*   冻土研究所的冷冻舱显示早期实验体

*   数据枢纽的全息投影揭示叛变阴谋

    每个场景包含 3-5 个叙事点，通过探索逐步拼凑完整故事线。

## 六、数值平衡体系

### 6.1 核心数值公式



*   伤害计算：`最终伤害 = 武器基础伤害 × 等级系数 × 弱点倍率 - 敌人防御值`

*   武器等级系数：Lv1（1.0）→ Lv2（1.5）→ Lv3（2.0）

*   超载技能消耗：`当前能量 × 0.6 + 5秒冷却`

*   角色生命值：基础 100 点，可通过 perk 提升至 150 点

### 6.2 难度曲线控制



*   线性增长：敌人血量每关卡提升 15-20%

*   动态调整：连续死亡 3 次后，下一波敌人伤害降低 25%

*   玩家成长：武器等级提升幅度（+50%/ 级）＞敌人防御增长幅度（+20%/ 关）

### 6.3 战利品分配机制



*   普通敌人：15% 概率掉落弹药 / 回复道具

*   精英敌人：100% 掉落武器升级 / 技能点

*   BOSS 战：必掉专属配件 + 高概率解锁记忆碎片

*   隐藏区域：稀有武器 / 角色皮肤（不影响数值平衡）

## 七、美术素材生成规范

### 7.1 像素风格定义



*   基础分辨率：320×240（支持 2x/4x 缩放）

*   调色板：每个主题场景使用 8-12 种主色调，确保视觉统一性

*   角色像素尺寸：32×48px（标准站姿），武器占比不超过 30%

### 7.2 Python 生成工具链



```
\# 瓦片生成示例代码

from pixel\_generator import TileGenerator

\# 初始化工厂主题生成器

factory\_generator = TileGenerator(

&#x20;  theme="industrial",

&#x20;  tile\_size=8,

&#x20;  palette="config/factory\_palette.json",

&#x20;  patterns=\["concrete", "pipeline", "control\_panel"]

)

\# 批量生成带碰撞数据的瓦片集

tileset = factory\_generator.generate\_tiles(

&#x20;  count=64,

&#x20;  collision\_prob=0.3,  # 30%概率生成固体瓦片

&#x20;  variation=0.2        # 20%随机变异确保多样性

)

tileset.export("assets/tiles/factory\_set.png", "assets/collision/factory\_mask.json")
```

工具链自动生成：



*   主题瓦片集（含碰撞掩码）

*   敌人动画帧（基础动作 + 攻击特效）

*   武器弹道效果（粒子参数化配置）

## 八、业务模式设计

### 8.1 游戏模式矩阵



| 模式类型 | 核心玩法             | 目标受众 | 解锁条件       |
| ---- | ---------------- | ---- | ---------- |
| 剧情模式 | 线性关卡推进 + 剧情解锁    | 核心玩家 | 初始开放       |
| 挑战模式 | 限定条件关卡（如 "只用手枪"） | 硬核玩家 | 剧情模式通关     |
| 无尽模式 | 随机关卡组合 + 难度递增    | 休闲玩家 | 完成 3 个剧情关卡 |
| 双人协作 | 共享生命值 + 组合技能     | 社交玩家 | 初始开放       |

### 8.2 进度留存机制



*   短期：每日挑战（完成获得限定皮肤）

*   中期：技能树解锁（积累技能点强化角色）

*   长期：剧情收集（解锁全部记忆碎片开启真结局）

### 8.3 跨平台适配策略

#### 8.3.1 双人全键盘控制设计（新增）

采用「分区独立按键」方案，确保 1P 与 2P 操作无冲突，适配全尺寸键盘布局：



| 操作类型            | 1P（WASD 区域）         | 2P（方向键 + 数字键盘区域）     | 功能说明                |
| --------------- | ------------------- | -------------------- | ------------------- |
| 上移              | W                   | ↑（方向键）               | 角色向上移动 / 攀爬藤蔓       |
| 下移              | S                   | ↓（方向键）               | 角色下蹲 / 匍匐           |
| 左移              | A                   | ←（方向键）               | 角色向左移动              |
| 右移              | D                   | →（方向键）               | 角色向右移动              |
| 跳跃              | 空格键                 | Enter（数字键盘回车键）       | 基础跳跃 / 二段跳（空中再次按下）  |
| 射击              | J                   | 0（数字键盘）              | 基础攻击 / 瞄准方向绑定角色朝向   |
| 武器超载技能          | K                   | +（数字键盘加号）            | 释放武器特殊技能（需能量满）      |
| 武器切换            | L                   | \*（数字键盘星号）           | 循环切换已拾取武器           |
| 特殊动作（Dash / 钩爪） | Left Shift（左 Shift） | Right Shift（右 Shift） | 角色专属特殊技能（如比尔的 Dash） |
| 下蹲 / 匍匐         | Left Ctrl（左 Ctrl）   | Right Ctrl（右 Ctrl）   | 降低碰撞体积 / 通过低矮通道     |
| 双人协作指令          | Q                   | -（数字键盘减号）            | 触发队友复活 / 共享道具       |
| 暂停游戏            | Esc                 | Esc（双人共享暂停键）         | 打开暂停菜单（双人同步暂停）      |

**设计原则**：



1.  按键分区明确：1P 集中于键盘左侧（WASD + 左 Ctrl/Shift），2P 集中于右侧（方向键 + 数字键盘），避免双手操作重叠

2.  操作逻辑统一：同类型操作（如射击、跳跃）在双分区保持「功能对应」，降低学习成本

3.  冗余容错：核心操作（如射击、跳跃）均绑定全尺寸键盘必有的按键，兼容无小键盘的紧凑键盘（2P 可切换为 “逗号 / 句号 / 斜杠” 备用键）

#### 8.3.2 手柄接口预留方案（新增）

采用「输入抽象层」设计，实现键盘与手柄的无缝兼容，预留扩展接口：



1.  **抽象输入事件定义**

    核心操作统一映射为事件枚举，屏蔽硬件差异：



```
// 输入事件枚举（伪代码）

enum InputEvent {

&#x20; MOVE\_UP,    // 上移

&#x20; MOVE\_DOWN,  // 下移

&#x20; MOVE\_LEFT,  // 左移

&#x20; MOVE\_RIGHT, // 右移

&#x20; JUMP,       // 跳跃

&#x20; SHOOT,      // 射击

&#x20; SKILL,      // 超载技能

&#x20; SWITCH\_WEAPON, // 武器切换

&#x20; SPECIAL\_ACTION // 特殊动作

}
```



1.  **手柄默认键位映射**

    支持 Xbox Series X/S、PS5、Switch Pro 手柄，默认映射如下：



| 输入事件                     | Xbox 手柄 | PS5 手柄    | Switch Pro 手柄 |
| ------------------------ | ------- | --------- | ------------- |
| MOVE\_UP/DOWN/LEFT/RIGHT | 左摇杆     | 左摇杆       | 左摇杆           |
| JUMP                     | A 键     | X 键       | B 键           |
| SHOOT                    | X 键     | ▢键        | Y 键           |
| SKILL                    | Y 键     | △键        | X 键           |
| SWITCH\_WEAPON           | RB 键    | R1 键      | R 键           |
| SPECIAL\_ACTION          | LB 键    | L1 键      | L 键           |
| 暂停游戏                     | START 键 | OPTIONS 键 | + 键           |
| 双人协作指令                   | BACK 键  | CREATE 键  | - 键           |



1.  **扩展兼容能力**

*   支持手柄热插拔：检测到手柄连接后自动弹出「键位选择」弹窗

*   自定义键位存储：玩家可在设置界面修改键位，配置保存至本地（IndexedDB）

*   振动反馈预留：定义振动强度枚举（弱 / 中 / 强），BOSS 攻击、爆炸特效可触发对应振动（如：BOSS 技能命中时触发强振动）

1.  **开发接口规范**

    预留手柄 API 调用接口，便于后续扩展：



```
// 手柄接口（伪代码）

class GamepadManager {

&#x20; // 检测手柄连接状态

&#x20; detectGamepad(): GamepadInfo\[];

&#x20; // 绑定手柄事件监听器

&#x20; on(event: InputEvent, callback: (strength?: number) => void): void;

&#x20; // 设置振动反馈

&#x20; setVibration(intensity: VibrationIntensity): void;

&#x20; // 加载自定义键位配置

&#x20; loadCustomMapping(playerId: 1 | 2): MappingConfig;

}
```

#### 8.3.3 跨设备兼容保障



*   核心平台：浏览器端（WebGL 渲染确保跨设备兼容）

*   适配分辨率：支持 16:9（主流显示器）、4:3（复古 CRT 风格）、9:16（移动端竖屏），自动适配屏幕比例

*   触屏优化：虚拟摇杆采用「浮动跟随」设计，按钮大小随屏幕尺寸自适应（最小触控区域≥60×60px）

## 九、创新亮点总结



1.  **叙事与玩法融合**：时间循环机制既服务剧情，又提供渐进式难度体验

2.  **模块化角色系统**：保留经典操作手感的同时，通过差异化能力增加策略深度

3.  **环境战术互动**：动态场景变化迫使玩家调整战斗策略，而非单纯记忆关卡

4.  **可控随机元素**：轻度 Roguelike 设计提升重玩价值，又不破坏魂斗罗核心爽感

5.  **自动化素材生成**：Python 工具链确保美术风格统一，同时提高开发效率

6.  **双人生态优化**：全键盘分区控制 + 手柄预留接口，兼顾怀旧协作与现代设备兼容（新增）

本设计在保留魂斗罗 "快、准、狠" 经典体验的基础上，通过现代游戏设计理念增强策略性与叙事性，同时优化双人生态与跨设备兼容，打造既怀旧又创新的横版射击体验。

> （注：文档部分内容可能由 AI 生成）